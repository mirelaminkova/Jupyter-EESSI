---
- name: Start a containerized application in Docker
  hosts:
    - localhost
  gather_facts: true
  # necessary to execute docker commands
  become: true

  tasks:
    - name: Install docker
      apt:
        name: docker.io
    - name: Start the requested Docker container
      community.docker.docker_container:
        name: "{{ docker_container_name }}"
        image: "{{ docker_image }}"
        command: " {{ docker_command }}"
        # `detach` and `tty` keep the docker container running in background
        detach: yes
        tty: yes
